menuconfig MTD_SPI_NOR
	tristate "SPI-NOR device support"
	select DM_MTD_SPI_NOR if DM_SPI && MTD
	help
	  This is the core SPI NOR framework which can be used to interact SPI-NOR
	  to SPI driver interface layer and the SPI-NOR controller driver.

	  Unlike normal/generic spi controllers, they are few controllers which are
	  exclusively used to connect SPI-NOR devices, called SPI-NOR controllers.
	  So technically these controllers shouldn't reside at drivers/spi as these
	  may effect the generic SPI bus functionalities, so this SPI-NOR core acts
	  as a common core framework between the generic SPI controller drivers vs
	  SPI-NOR controller drivers for SPI-NOR device access. Note that from SPI-NOR
	  core to SPI drivers there should be an interface layer.

config DM_MTD_SPI_NOR
	bool "MTD driver model for SPI-NOR"
	help
	  This is enables MTD driver model support for SPI-NOR. Both MTD and SPI
	  driver models need to define for enabling this support.

if MTD_SPI_NOR

config MTD_M25P80
	tristate "Support most SPI Flash chips (AT26DF, M25P, W25X, ...)"
	help
	  This enables access to most modern SPI flash chips, used for
	  program and data storage.   Series supported include Atmel AT26DF,
	  Spansion S25SL, SST 25VF, ST M25P, and Winbond W25X.  Other chips
	  are supported as well.  See the driver source for the current list,
	  or to add other chips.

	  Note that the original DataFlash chips (AT45 series, not AT26DF),
	  need an entirely different driver.

	  Set up your spi devices with the right board-specific platform data,
	  if you want to specify device partitioning or to use a device which
	  doesn't support the JEDEC ID instruction.

config MTD_SPI_NOR_USE_4K_SECTORS
	bool "Use small 4096 B erase sectors"
	default y
	help
	  Many flash memories support erasing small (4096 B) sectors. Depending
	  on the usage this feature may provide performance gain in comparison
	  to erasing whole blocks (32/64 KiB).
	  Changing a small part of the flash's contents is usually faster with
	  small sectors. On the other hand erasing should be faster when using
	  64 KiB block instead of 16 Ã— 4 KiB sectors.

	  Please note that some tools/drivers/filesystems may not work with
	  4096 B erase size (e.g. UBIFS requires 15 KiB as a minimum).

endif # MTD_SPI_NOR
